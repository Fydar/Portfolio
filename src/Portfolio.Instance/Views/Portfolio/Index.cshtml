@using Portfolio.Instance;
@using Portfolio.Instance.ViewComponents;
@using Portfolio.Instance.Models;
@using Portfolio.Instance.Services.ContentService;
@using Portfolio.Models;

@model PortfolioIndexViewModel
@{
	ViewData["Title"] = "Portfolio";
}

@inject IContentService contentService;

<section class="sheetArticle">

	@foreach (var category in contentService.Categories)
	{
		<article>
			<header>
				<h2>@category.DisplayName</h2>
			</header>
			<section>
				<div class="card-grid @(category.Projects.Count > 3 ? "card-grid-sm" : "")">

					@foreach (var project in category.Projects)
					{
						@await Component.InvokeAsync("PortfolioItem", project)
					}

				</div>
			</section>
		</article>
	}

</section>

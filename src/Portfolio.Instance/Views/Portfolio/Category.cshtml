@using Portfolio.Instance;
@using Portfolio.Instance.ViewComponents;
@using Portfolio.Instance.Models;
@using Portfolio.Instance.Services.ContentService;
@using Portfolio.Models;

@model CategoryViewModel
@{
	ViewData["Title"] = "Portfolio";
}

@inject IContentService contentService;

@await Component.InvokeAsync("BreadcrumbBar", new BreadcrumbBarViewModel(
	new BreadcrumbViewModel()
	{
		Controller = "Portfolio",
		Action = "Index",
		Text = "Portfolio"
	},
	new BreadcrumbViewModel()
	{
		Text = Model.Category.DisplayName
	}
))

<section style="min-height: 80vh;">
	<div class="container">
		<h2>@Model.Category.DisplayName</h2>

		<div class="card-grid @(Model.Category.Projects.Count > 3 ? "card-grid-sm" : "")">

			@foreach (var project in Model.Category.Projects)
			{
				@await Component.InvokeAsync("PortfolioItem", project)
			}

		</div>
	</div>
</section>
